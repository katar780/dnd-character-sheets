<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ | DnD Character Sheets</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ */
        .character-creator {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }
        
        .creator-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            border-bottom: 3px solid #00adb5;
        }
        
        .creator-header h1 {
            color: #00adb5;
            margin-bottom: 0.5rem;
            font-size: 2.5rem;
        }
        
        .creator-header p {
            color: #aaa;
            font-size: 1.1rem;
        }
        
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(57, 62, 70, 0.5);
            color: white;
            border: 1px solid #393e46;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            text-decoration: none;
            display: inline-block;
        }
        
        .back-button:hover {
            background: rgba(57, 62, 70, 0.8);
        }
        
        .creator-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .form-section {
            background: rgba(30, 30, 46, 0.9);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            border: 1px solid #393e46;
        }
        
        .form-section h2 {
            color: #00adb5;
            margin-top: 0;
            font-size: 1.4rem;
            border-left: 4px solid #00adb5;
            padding-left: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            color: #eee;
            margin-bottom: 0.5rem;
            font-weight: 500;
            font-size: 1.1rem;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.9rem;
            background: #0f3460;
            border: 1px solid #393e46;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #00adb5;
            box-shadow: 0 0 0 2px rgba(0, 173, 181, 0.2);
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }
        
        .stat-input {
            text-align: center;
            background: rgba(15, 52, 96, 0.3);
            padding: 1.2rem;
            border-radius: 8px;
            border: 1px solid #393e46;
        }
        
        .stat-input input {
            font-size: 1.4rem;
            font-weight: bold;
            text-align: center;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #00adb5;
            border-radius: 6px;
            color: white;
            width: 100%;
        }
        
        .stat-modifier {
            display: block;
            margin-top: 0.8rem;
            color: #00adb5;
            font-weight: bold;
            font-size: 1.2rem;
            padding: 0.3rem;
            background: rgba(0, 173, 181, 0.1);
            border-radius: 4px;
        }
        
        .preview-panel {
            background: rgba(0, 173, 181, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            border: 2px solid #00adb5;
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .character-preview {
            text-align: center;
        }
        
        .preview-name {
            font-size: 1.8rem;
            color: #00adb5;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .preview-details {
            color: #aaa;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
        
        .preview-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .preview-stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #393e46;
        }
        
        .stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #888;
            margin-top: 0.3rem;
        }
        
        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 3rem;
            justify-content: center;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .btn-create {
            background: linear-gradient(to right, #00adb5, #0097a7);
            color: white;
            border: none;
            padding: 1.2rem 3rem;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn-create:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 173, 181, 0.4);
        }
        
        .btn-back {
            background: rgba(57, 62, 70, 0.7);
            color: white;
            border: 1px solid #393e46;
            padding: 1.2rem 2.5rem;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .btn-back:hover {
            background: rgba(57, 62, 70, 1);
        }
        
        .quick-fill {
            margin-top: 1rem;
            text-align: center;
        }
        
        .quick-fill button {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 1px solid #ff6b6b;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .quick-fill button:hover {
            background: rgba(255, 107, 107, 0.4);
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1100px) {
            .creator-grid {
                grid-template-columns: 1fr;
            }
            
            .preview-panel {
                position: static;
                margin-top: 2rem;
            }
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .preview-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .btn-create, .btn-back {
                width: 100%;
            }
            
            .creator-header h1 {
                font-size: 2rem;
                margin-top: 2rem;
            }
            
            .back-button {
                position: static;
                margin-bottom: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .preview-stats {
                grid-template-columns: 1fr;
            }
            
            .creator-header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="character-creator">
        <a href="dashboard.html" class="back-button">‚Üê –ù–∞–∑–∞–¥ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a>
        
        <div class="creator-header">
            <h1>üßô –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h1>
            <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ –¥–ª—è RPG –∫–∞–º–ø–∞–Ω–∏–∏</p>
        </div>
        
        <div class="creator-grid">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –§–æ—Ä–º–∞ -->
            <div class="form-column">
                <form id="characterForm">
                    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="form-section">
                        <h2>–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                        
                        <div class="form-group">
                            <label for="charName">üé≠ –ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</label>
                            <input type="text" id="charName" name="name" required 
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: '–≠—Ä–∞–≥–æ–Ω –î—Ä–∞–∫–æ–Ω–∏–π')" 
                                   maxlength="50">
                            <small style="color: #888; display: block; margin-top: 0.3rem;">
                                –ò–º—è –≤–∞—à–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –∏–≥—Ä–µ
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label for="charRace">üß¨ –†–∞—Å–∞:</label>
                            <select id="charRace" name="race" required>
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞—Å—É --</option>
                                <option value="human">üë§ –ß–µ–ª–æ–≤–µ–∫</option>
                                <option value="elf">üßù –≠–ª—å—Ñ</option>
                                <option value="dwarf">üßî –î–≤–∞—Ä—Ñ</option>
                                <option value="halfling">üçÄ –ü–æ–ª—É—Ä–æ—Å–ª–∏–∫ (–•–æ–±–±–∏—Ç)</option>
                                <option value="dragonborn">üêâ –î—Ä–∞–∫–æ–Ω–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–π</option>
                                <option value="gnome">üßô –ì–Ω–æ–º</option>
                                <option value="half-elf">üßùüë§ –ü–æ–ª—É—ç–ª—å—Ñ</option>
                                <option value="half-orc">üëπ –ü–æ–ª—É–æ—Ä–∫</option>
                                <option value="tiefling">üòà –¢–∏—Ñ–ª–∏–Ω–≥</option>
                                <option value="other">‚ùì –î—Ä—É–≥–∞—è</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="charClass">‚öîÔ∏è –ö–ª–∞—Å—Å:</label>
                            <select id="charClass" name="class" required>
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å --</option>
                                <option value="barbarian">üò° –í–∞—Ä–≤–∞—Ä</option>
                                <option value="bard">üéµ –ë–∞—Ä–¥</option>
                                <option value="cleric">üôè –ñ—Ä–µ—Ü</option>
                                <option value="druid">üåø –î—Ä—É–∏–¥</option>
                                <option value="fighter">‚öîÔ∏è –í–æ–∏–Ω</option>
                                <option value="monk">ü•ã –ú–æ–Ω–∞—Ö</option>
                                <option value="paladin">üõ°Ô∏è –ü–∞–ª–∞–¥–∏–Ω</option>
                                <option value="ranger">üèπ –°–ª–µ–¥–æ–ø—ã—Ç</option>
                                <option value="rogue">üó°Ô∏è –ü–ª—É—Ç</option>
                                <option value="sorcerer">üîÆ –ß–∞—Ä–æ–¥–µ–π</option>
                                <option value="warlock">üëÅÔ∏è –ö–æ–ª–¥—É–Ω</option>
                                <option value="wizard">üìö –í–æ–ª—à–µ–±–Ω–∏–∫</option>
                                <option value="other">‚ùì –î—Ä—É–≥–æ–π</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="charBackground">üìñ –ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è:</label>
                            <select id="charBackground" name="background">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—é --</option>
                                <option value="acolyte">‚õ™ –ê–∫–æ–ª–∏—Ç</option>
                                <option value="charlatan">üé≠ –®–∞—Ä–ª–∞—Ç–∞–Ω</option>
                                <option value="criminal">üî´ –ü—Ä–µ—Å—Ç—É–ø–Ω–∏–∫</option>
                                <option value="folk-hero">üèÜ –ù–∞—Ä–æ–¥–Ω—ã–π –≥–µ—Ä–æ–π</option>
                                <option value="noble">üëë –ë–ª–∞–≥–æ—Ä–æ–¥–Ω—ã–π</option>
                                <option value="sage">üìö –ú—É–¥—Ä–µ—Ü</option>
                                <option value="soldier">üéñÔ∏è –°–æ–ª–¥–∞—Ç</option>
                                <option value="urchin">üêÄ –ë–µ–∑–¥–æ–º–Ω—ã–π</option>
                                <option value="other">‚ùì –î—Ä—É–≥–∞—è</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
                    <div class="form-section">
                        <h2>üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏)</h2>
                        <p style="color: #aaa; margin-bottom: 1rem; font-size: 0.95rem;">
                            –í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 1 –¥–æ 20. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: (–∑–Ω–∞—á–µ–Ω–∏–µ - 10) / 2
                        </p>
                        
                        <div class="stats-grid">
                            <!-- –°–∏–ª–∞ -->
                            <div class="form-group stat-input">
                                <label for="charStrength">üí™ –°–∏–ª–∞ (STR)</label>
                                <input type="number" id="charStrength" name="strength" 
                                       min="1" max="20" value="10" required
                                       onchange="updateModifiers()">
                                <span class="stat-modifier" id="strMod">+0</span>
                            </div>
                            
                            <!-- –õ–æ–≤–∫–æ—Å—Ç—å -->
                            <div class="form-group stat-input">
                                <label for="charDexterity">üèπ –õ–æ–≤–∫–æ—Å—Ç—å (DEX)</label>
                                <input type="number" id="charDexterity" name="dexterity" 
                                       min="1" max="20" value="10" required
                                       onchange="updateModifiers()">
                                <span class="stat-modifier" id="dexMod">+0</span>
                            </div>
                            
                            <!-- –¢–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ -->
                            <div class="form-group stat-input">
                                <label for="charConstitution">‚ù§Ô∏è –¢–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ (CON)</label>
                                <input type="number" id="charConstitution" name="constitution" 
                                       min="1" max="20" value="10" required
                                       onchange="updateModifiers()">
                                <span class="stat-modifier" id="conMod">+0</span>
                            </div>
                            
                            <!-- –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç -->
                            <div class="form-group stat-input">
                                <label for="charIntelligence">üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç (INT)</label>
                                <input type="number" id="charIntelligence" name="intelligence" 
                                       min="1" max="20" value="10" required
                                       onchange="updateModifiers()">
                                <span class="stat-modifier" id="intMod">+0</span>
                            </div>
                            
                            <!-- –ú—É–¥—Ä–æ—Å—Ç—å -->
                            <div class="form-group stat-input">
                                <label for="charWisdom">üëÅÔ∏è –ú—É–¥—Ä–æ—Å—Ç—å (WIS)</label>
                                <input type="number" id="charWisdom" name="wisdom" 
                                       min="1" max="20" value="10" required
                                       onchange="updateModifiers()">
                                <span class="stat-modifier" id="wisMod">+0</span>
                            </div>
                            
                            <!-- –•–∞—Ä–∏–∑–º–∞ -->
                            <div class="form-group stat-input">
                                <label for="charCharisma">üé≠ –•–∞—Ä–∏–∑–º–∞ (CHA)</label>
                                <input type="number" id="charCharisma" name="charisma" 
                                       min="1" max="20" value="10" required
                                       onchange="updateModifiers()">
                                <span class="stat-modifier" id="chaMod">+0</span>
                            </div>
                        </div>
                        
                        <div class="quick-fill">
                            <button type="button" onclick="fillStandardArray()">
                                üéØ –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º (15, 14, 13, 12, 10, 8)
                            </button>
                            <button type="button" onclick="fillRandomStats()" style="margin-left: 10px;">
                                üé≤ –°–ª—É—á–∞–π–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
                            </button>
                        </div>
                    </div>
                    
                    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="form-section">
                        <h2>üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                        
                        <div class="form-group">
                            <label for="charAlignment">‚öñÔ∏è –ú–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ:</label>
                            <select id="charAlignment" name="alignment">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –º–∏—Ä–æ–≤–æ–∑–∑—Ä–µ–Ω–∏–µ --</option>
                                <option value="lg">‚öñÔ∏è –ó–∞–∫–æ–Ω–Ω–æ-–¥–æ–±—Ä–æ–µ (LG)</option>
                                <option value="ng">‚òØÔ∏è –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ-–¥–æ–±—Ä–æ–µ (NG)</option>
                                <option value="cg">üåÄ –•–∞–æ—Ç–∏—á–Ω–æ-–¥–æ–±—Ä–æ–µ (CG)</option>
                                <option value="ln">üìè –ó–∞–∫–æ–Ω–Ω–æ-–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ (LN)</option>
                                <option value="n">‚ö´ –ò—Å—Ç–∏–Ω–Ω–æ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ (N)</option>
                                <option value="cn">üå™Ô∏è –•–∞–æ—Ç–∏—á–Ω–æ-–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ (CN)</option>
                                <option value="le">üëø –ó–∞–∫–æ–Ω–Ω–æ-–∑–ª–æ–µ (LE)</option>
                                <option value="ne">üíÄ –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ-–∑–ª–æ–µ (NE)</option>
                                <option value="ce">üòà –•–∞–æ—Ç–∏—á–Ω–æ-–∑–ª–æ–µ (CE)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="charLevel">üìà –£—Ä–æ–≤–µ–Ω—å:</label>
                            <input type="number" id="charLevel" name="level" 
                                   min="1" max="20" value="1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="charExperience">‚≠ê –û–ø—ã—Ç (XP):</label>
                            <input type="number" id="charExperience" name="experience" 
                                   min="0" value="0" required>
                            <small style="color: #888; display: block; margin-top: 0.3rem;">
                                1 —É—Ä–æ–≤–µ–Ω—å: 0 XP, 2 —É—Ä–æ–≤–µ–Ω—å: 300 XP, 3 —É—Ä–æ–≤–µ–Ω—å: 900 XP
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label for="charAppearance">üë§ –í–Ω–µ—à–Ω–æ—Å—Ç—å:</label>
                            <textarea id="charAppearance" name="appearance" 
                                      rows="3" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–Ω–µ—à–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (—Ä–æ—Å—Ç, —Ç–µ–ª–æ—Å–ª–æ–∂–µ–Ω–∏–µ, —Ü–≤–µ—Ç –≤–æ–ª–æ—Å, –≥–ª–∞–∑, –æ—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="charBackstory">üìú –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:</label>
                            <textarea id="charBackstory" name="backstory" 
                                      rows="4" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ, –º–æ—Ç–∏–≤–∞—Ü–∏—è, —Ü–µ–ª–∏, –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –∂–∏–∑–Ω–∏)..."></textarea>
                        </div>
                    </div>
                </form>
                
                <div class="form-actions">
                    <button type="button" class="btn-back" onclick="window.location.href='dashboard.html'">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –ø–∞–Ω–µ–ª—å
                    </button>
                    <button type="button" class="btn-create" onclick="createCharacter()">
                        üßô –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
                    </button>
                </div>
                
                <div class="quick-fill" style="margin-top: 1rem;">
                    <button type="button" onclick="fillTestData()">
                        üéÆ –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏)
                    </button>
                </div>
            </div>
            
            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
            <div class="preview-panel">
                <div class="character-preview">
                    <h3>üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h3>
                    <div class="preview-name" id="previewName">–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</div>
                    <div class="preview-details" id="previewDetails">–†–∞—Å–∞ ‚Ä¢ –ö–ª–∞—Å—Å ‚Ä¢ –£—Ä–æ–≤–µ–Ω—å 1</div>
                    
                    <div class="preview-stats">
                        <div class="preview-stat">
                            <span class="stat-value" id="previewStr">10</span>
                            <span class="stat-label">üí™ –°–∏–ª–∞</span>
                        </div>
                        <div class="preview-stat">
                            <span class="stat-value" id="previewDex">10</span>
                            <span class="stat-label">üèπ –õ–æ–≤–∫–æ—Å—Ç—å</span>
                        </div>
                        <div class="preview-stat">
                            <span class="stat-value" id="previewCon">10</span>
                            <span class="stat-label">‚ù§Ô∏è –¢–µ–ª–æ</span>
                        </div>
                        <div class="preview-stat">
                            <span class="stat-value" id="previewInt">10</span>
                            <span class="stat-label">üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç</span>
                        </div>
                        <div class="preview-stat">
                            <span class="stat-value" id="previewWis">10</span>
                            <span class="stat-label">üëÅÔ∏è –ú—É–¥—Ä–æ—Å—Ç—å</span>
                        </div>
                        <div class="preview-stat">
                            <span class="stat-value" id="previewCha">10</span>
                            <span class="stat-label">üé≠ –•–∞—Ä–∏–∑–º–∞</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 2rem; padding: 1rem; background: rgba(0, 0, 0, 0.2); border-radius: 8px;">
                        <h4 style="color: #00adb5; margin-bottom: 0.5rem;">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <p style="color: #888; font-size: 0.9rem; margin: 0;">
                            –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä.
                            –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à–∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="auth.js"></script>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            const user = auth.getCurrentUser();
            if (!user) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞!');
                window.location.href = 'login.html';
                return;
            }
            
            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', user.username);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
            updatePreview();
            updateModifiers();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            const formInputs = document.querySelectorAll('#characterForm input, #characterForm select, #characterForm textarea');
            formInputs.forEach(input => {
                input.addEventListener('input', updatePreview);
                input.addEventListener('change', updatePreview);
            });
        });
        
        // –†–∞—Å—á–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
        function calculateModifier(score) {
            return Math.floor((score - 10) / 2);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
        function updateModifiers() {
            const stats = [
                { id: 'charStrength', mod: 'strMod' },
                { id: 'charDexterity', mod: 'dexMod' },
                { id: 'charConstitution', mod: 'conMod' },
                { id: 'charIntelligence', mod: 'intMod' },
                { id: 'charWisdom', mod: 'wisMod' },
                { id: 'charCharisma', mod: 'chaMod' }
            ];
            
            stats.forEach(stat => {
                const input = document.getElementById(stat.id);
                const modSpan = document.getElementById(stat.mod);
                
                if (input && modSpan) {
                    const value = parseInt(input.value) || 10;
                    const modifier = calculateModifier(value);
                    modSpan.textContent = `${modifier >= 0 ? '+' : ''}${modifier}`;
                    modSpan.style.color = modifier >= 0 ? '#00adb5' : '#ff4757';
                }
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
        function updatePreview() {
            // –ò–º—è
            const nameInput = document.getElementById('charName');
            const previewName = document.getElementById('previewName');
            if (nameInput && previewName) {
                previewName.textContent = nameInput.value || '–ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞';
            }
            
            // –î–µ—Ç–∞–ª–∏
            const raceSelect = document.getElementById('charRace');
            const classSelect = document.getElementById('charClass');
            const levelInput = document.getElementById('charLevel');
            const previewDetails = document.getElementById('previewDetails');
            
            if (raceSelect && classSelect && levelInput && previewDetails) {
                const race = raceSelect.options[raceSelect.selectedIndex]?.text || '–†–∞—Å–∞';
                const cls = classSelect.options[classSelect.selectedIndex]?.text || '–ö–ª–∞—Å—Å';
                const level = levelInput.value || '1';
                previewDetails.textContent = `${race} ‚Ä¢ ${cls} ‚Ä¢ –£—Ä–æ–≤–µ–Ω—å ${level}`;
            }
            
            // –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            const stats = [
                { id: 'charStrength', preview: 'previewStr' },
                { id: 'charDexterity', preview: 'previewDex' },
                { id: 'charConstitution', preview: 'previewCon' },
                { id: 'charIntelligence', preview: 'previewInt' },
                { id: 'charWisdom', preview: 'previewWis' },
                { id: 'charCharisma', preview: 'previewCha' }
            ];
            
            stats.forEach(stat => {
                const input = document.getElementById(stat.id);
                const preview = document.getElementById(stat.preview);
                if (input && preview) {
                    preview.textContent = input.value || '10';
                }
            });
        }
        
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
        function fillStandardArray() {
            const standardArray = [15, 14, 13, 12, 10, 8];
            
            document.getElementById('charStrength').value = standardArray[0];
            document.getElementById('charDexterity').value = standardArray[1];
            document.getElementById('charConstitution').value = standardArray[2];
            document.getElementById('charIntelligence').value = standardArray[3];
            document.getElementById('charWisdom').value = standardArray[4];
            document.getElementById('charCharisma').value = standardArray[5];
            
            updatePreview();
            updateModifiers();
            alert('–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–º–µ–Ω–µ–Ω!');
        }
        
        // –°–ª—É—á–∞–π–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (4d6, –æ—Ç–±—Ä–æ—Å–∏—Ç—å –Ω–∏–∑—à–∏–π)
        function fillRandomStats() {
            function rollStat() {
                const rolls = [];
                for (let i = 0; i < 4; i++) {
                    rolls.push(Math.floor(Math.random() * 6) + 1);
                }
                rolls.sort((a, b) => b - a);
                return rolls[0] + rolls[1] + rolls[2];
            }
            
            document.getElementById('charStrength').value = rollStat();
            document.getElementById('charDexterity').value = rollStat();
            document.getElementById('charConstitution').value = rollStat();
            document.getElementById('charIntelligence').value = rollStat();
            document.getElementById('charWisdom').value = rollStat();
            document.getElementById('charCharisma').value = rollStat();
            
            updatePreview();
            updateModifiers();
            alert('–°–ª—É—á–∞–π–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã!');
        }
        
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        function fillTestData() {
            document.getElementById('charName').value = '–≠—Ä–∞–≥–æ–Ω –î—Ä–∞–∫–æ–Ω–∏–π';
            document.getElementById('charRace').value = 'dragonborn';
            document.getElementById('charClass').value = 'fighter';
            document.getElementById('charBackground').value = 'soldier';
            document.getElementById('charAlignment').value = 'lg';
            document.getElementById('charLevel').value = '3';
            document.getElementById('charExperience').value = '900';
            document.getElementById('charStrength').value = '16';
            document.getElementById('charDexterity').value = '14';
            document.getElementById('charConstitution').value = '15';
            document.getElementById('charIntelligence').value = '10';
            document.getElementById('charWisdom').value = '12';
            document.getElementById('charCharisma').value = '8';
            document.getElementById('charAppearance').value = '–í—ã—Å–æ–∫–∏–π –¥—Ä–∞–∫–æ–Ω–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–π —Å –∑–æ–ª–æ—Ç–æ–π —á–µ—à—É–µ–π –∏ –ø—Ä–æ–Ω–∑–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≥–æ–ª—É–±—ã–º–∏ –≥–ª–∞–∑–∞–º–∏. –ù–æ—Å–∏—Ç –¥–æ—Å–ø–µ—Ö–∏ —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –¥—Ä–∞–∫–æ–Ω–∞.';
            document.getElementById('charBackstory').value = '–ë—ã–≤—à–∏–π —Å–æ–ª–¥–∞—Ç –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–π –≥–≤–∞—Ä–¥–∏–∏, –ø–æ–∫–ª—è–≤—à–∏–π—Å—è –∑–∞—â–∏—â–∞—Ç—å –Ω–µ–≤–∏–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –µ–≥–æ –æ—Ç—Ä—è–¥ –±—ã–ª –ø—Ä–µ–¥–∞–Ω. –ò—â–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–∫—É–ø–∏—Ç—å –ø—Ä–æ—à–ª—ã–µ –æ—à–∏–±–∫–∏.';
            
            updatePreview();
            updateModifiers();
            alert('–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã! –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.');
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
        async function createCharacter() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            const user = auth.getCurrentUser();
            if (!user) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞!');
                window.location.href = 'login.html';
                return;
            }
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
            const characterData = {
                name: document.getElementById('charName').value.trim(),
                race: document.getElementById('charRace').value,
                class: document.getElementById('charClass').value,
                background: document.getElementById('charBackground').value,
                alignment: document.getElementById('charAlignment').value,
                level: parseInt(document.getElementById('charLevel').value) || 1,
                experience: parseInt(document.getElementById('charExperience').value) || 0,
                appearance: document.getElementById('charAppearance').value.trim(),
                backstory: document.getElementById('charBackstory').value.trim(),
                stats: {
                    strength: parseInt(document.getElementById('charStrength').value) || 10,
                    dexterity: parseInt(document.getElementById('charDexterity').value) || 10,
                    constitution: parseInt(document.getElementById('charConstitution').value) || 10,
                    intelligence: parseInt(document.getElementById('charIntelligence').value) || 10,
                    wisdom: parseInt(document.getElementById('charWisdom').value) || 10,
                    charisma: parseInt(document.getElementById('charCharisma').value) || 10
                },
                hp: { 
                    current: 10 + calculateModifier(parseInt(document.getElementById('charConstitution').value) || 10),
                    max: 10 + calculateModifier(parseInt(document.getElementById('charConstitution').value) || 10)
                },
                equipment: ['–ú–µ—á', '–©–∏—Ç', '–î–æ—Å–ø–µ—Ö–∏'],
                spells: [],
                notes: '',
                createdAt: new Date().toISOString()
            };
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!characterData.name) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞!');
                return;
            }
            
            if (!characterData.race) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞—Å—É!');
                return;
            }
            
            if (!characterData.class) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å!');
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            const createBtn = document.querySelector('.btn-create');
            const originalText = createBtn.textContent;
            createBtn.textContent = '‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ...';
            createBtn.disabled = true;
            
            try {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
                const result = await auth.createCharacter(characterData);
                
                if (result.success) {
                    alert(`üéâ –ü–µ—Ä—Å–æ–Ω–∞–∂ "${characterData.name}" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!\n\n–í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.`);
                    window.location.href = 'dashboard.html';
                } else {
                    alert('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: ' + result.message);
                    createBtn.textContent = originalText;
                    createBtn.disabled = false;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                alert('‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.');
                createBtn.textContent = originalText;
                createBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
